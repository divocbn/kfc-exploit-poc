"use client"

import { forwardRef } from "react"
import { cn } from "~/lib/utils"

import { Logo } from "~/components/ui/logo"
import { Button } from "~/components/ui/button"
import { ChevronDownIcon } from "@radix-ui/react-icons"
import { ShoppingCartIcon } from "lucide-react"
import { ShoppingCart } from "./shopping-cart"
import { useAtomValue } from "jotai"
import { shopAtom } from "~/atoms/shop.atom"

export interface NavigationBarProps
  extends React.HTMLAttributes<HTMLDivElement> { }

const NavigationBar = forwardRef<HTMLDivElement, NavigationBarProps>(
  ({ className, ...props }, ref) => {
    const shop = useAtomValue(shopAtom);

    return (
      <div
        ref={ref}
        {...props}
        className={cn("flex w-full h-16 p-12 items-center justify-between bg-white",
          className
        )}>
        <div className="flex flex-row gap-5 items-center">
          <Logo />

          <Button className="font-normal" size="sm">
            { shop.name }
            <ChevronDownIcon className="ml-2" />
          </Button>
        </div>

        <div className="flex gap-1">
            <ShoppingCart />

          <Button size="sm">
            Abholung
          </Button>
          <Button size="sm" className="bg-background/50 scale-[85%] opacity-60 cursor-not-allowed">
            Lieferung
          </Button>


        </div>
      </div>
    )
  }
)
NavigationBar.displayName = "NavigationBar"

export { NavigationBar }
